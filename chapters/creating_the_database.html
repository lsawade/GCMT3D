

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create a Database Entry &mdash; gcmt3d 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Request Data" href="request_data.html" />
    <link rel="prev" title="Specfem Setup and compilation" href="specfem_setup_and_compilation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> gcmt3d
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="specfem_setup_and_compilation.html">Specfem Setup and compilation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Create a Database Entry</a></li>
<li class="toctree-l1"><a class="reference internal" href="request_data.html">Request Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="perturb_sources.html">Perturbation of Specfem Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_specfem.html">Creating Synthetics</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_specfem.html#cleaning-the-simulation-directories">Cleaning the simulation directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="conversion.html">Conversion of the Synthetic and Observed Data to ASDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing.html">Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="gcmt3dAPI.html">GCMT3D API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gcmt3d</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Create a Database Entry</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/chapters/creating_the_database.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="create-a-database-entry">
<h1>Create a Database Entry<a class="headerlink" href="#create-a-database-entry" title="Permalink to this headline">¶</a></h1>
<p>The first step of the workflow for any earthquake is the creation of a
database entry. This means that an initial directory for the earthquake is
created in the database directory defined in the <code class="docutils literal notranslate"><span class="pre">DatabaseParameters.yml</span></code>
parameter file. The structure of the Database looks as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>database
├──C&lt;CID_1&gt;
│   ├──CMT_SIMs/
│   │   ├──CMT/
│   │   │   ├──DATA/
│   │   │   ├──DATABASES_MPI/
│   │   │   ├──OUTPUT_FILES/
│   │   │   │   ├──CMT.yml # ASDF conversion path file
│   │   │   │   :
│   │   │   └──bin/  # symbolic link --&gt; SPECFEM_DIR/bin/
│   │   ├──CMT_rr/
│   │   │   ├──DATA/
│   │   │   :
│   │   ├──CMT_pp/
│   │   ├──CMT_rp/
│   │   ├──CMT_rt/
│   │   ├──CMT_tp/
│   │   ├──CMT_tt/
│   │   ├──CMT_depth/
│   │   ├──CMT_lat/
│   │   └──CMT_lon/
│   ├──C9703873.cmt  # CMTSOLUTION
│   ├──C9703873.xml  # QuakeML
│   ├──station_data/
│   │   ├──STATIONS
│   │   ├──station.xml
│   │   :
│   ├──window_data/
│   │   ├──window_paths/
│   │       ├──windows.&lt;lT1&gt;_&lt;hT1&gt;f#&lt;wave_type&gt;.yml  # lT and hT are low and
│   │       │                                        # high period,
│   │       │                                        # respectively
│   │       ├──windows.&lt;lT2&gt;_&lt;hT2&gt;f#&lt;wave_type&gt;.yml  # wave_type refers to
│   │       │                                        # body or surface wave
│   │       :
│   │
│   ├──inversion/
│   │   ├──inversion_dicts/
│   │   │   ├──inversion.&lt;lT1&gt;_&lt;hT1&gt;.yml
│   │   └──inversion_output/
│   │       ├──inv_summary.pdf
│   │
│   └──seismograms/
│       ├──obs/
│       │   ├──observed.mseed
│       │   └──observed.h5
│       ├──syn/
│       │   ├──CMT.h5
│       │   ├──CMT_rr.h5
│       │   :
│       │   └──CMT_lon.h5
│       ├──process_paths/
│       │   ├──process_observed.&lt;lT1&gt;_&lt;hT1&gt;.yml
│       │   ├──process_synthetic_CMT.&lt;lT1&gt;_&lt;hT1&gt;.yml
│       │   ├──process_synthetic_CMT_rr.&lt;lT1&gt;_&lt;hfT&gt;.yml
│       │   :
│       │   ├──process_synthetic_CMT_lon.&lt;lT1&gt;_&lt;hT1&gt;.yml
│       │   │
│       │   ├──process_observed.&lt;lT2&gt;_&lt;hT2&gt;.yml
│       │   ├──process_synthetic_CMT.&lt;lT2&gt;_&lt;hT2&gt;.yml
│       │   ├──process_synthetic_CMT_rr.&lt;lT2&gt;_&lt;hT2&gt;.yml
│       │   :
│       │   ├──process_synthetic_CMT_lon.&lt;lT2&gt;_&lt;hT2&gt;.yml
│       │   :
│       │
│       └──processed_seismograms/
│           ├──processed_observed.&lt;lT1&gt;_&lt;hT1&gt;.h5
│           ├──processed_synthetic_CMT.&lt;lT1&gt;_&lt;hT1&gt;.h5
│           ├──processed_synthetic_CMT_rr.&lt;lT1&gt;_&lt;hT1&gt;.h5
│           :
│           ├──processed_synthetic_CMT_lon.&lt;lT1&gt;_&lt;hT1&gt;.h5
│           │
│           ├──processed_observed.&lt;lT2&gt;_&lt;hT2&gt;.h5
│           ├──processed_synthetic_CMT.&lt;lT2&gt;_&lt;hT2&gt;.h5
│           ├──processed_synthetic_CMT_rr.&lt;lT2&gt;_&lt;hT2&gt;.h5
│           :
│           ├──processed_synthetic_CMT_lon.&lt;lT2&gt;_&lt;hT2&gt;.h5
│           :
│
├──C&lt;CID_2&gt;/
│   ├──CMT_SIMs/
│   :
│
├──C&lt;CID_3&gt;/
:
</pre></div>
</div>
<p>As seen in the directory tree, each earthquake has its own entry and
directory. Into each directory corresponding observed data are downloaded,
simulation data are saved, processed and saved, windowed, and inverted. Note
that the tree above is the result of all steps in the workflow (except the
cleaning step since the cleaning step will clean out the simulation directory).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">DatabaseSkeleton</span></code> class will, as the name suggests, simply create a
skeleton for the above database tree, and the subsequent steps of the
workflow will fill it.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="request_data.html" class="btn btn-neutral float-right" title="Request Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="specfem_setup_and_compilation.html" class="btn btn-neutral float-left" title="Specfem Setup and compilation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Lucas Sawade

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>